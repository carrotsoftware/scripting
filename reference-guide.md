# Справочник сценариев

Этот раздел содержит описание основных объектов, методов, атрибутов, глобальных функций и других сущностей, которые доступны в **Carrot** для написания сценариев.

Сценарии **Carrot** берут за основу **JavaScript** в версии **ES3** (ECMA-262, 3-е издание). Это старый, но надёжный стандарт, который гарантирует стабильную работу.

## Ключевые слова

**Ключевые слова** - это зарезервированные слова языка программирования, которые имеют специальное значение и не могут использоваться как имена переменных, функций или меток. Они определяют структуру кода - условия, циклы, объявления функций, возвраты значений и т.д.

Все ключевые слова идентичны тем, что используются в **After Effects** и стандартном **JavaScript ES3**.

!> При написании сценариев, старайтесь избегать **"циклов"** (`for`, `while` и `do...while`), особенно в режиме **"Process Frame"** (покадровой обработки). В режиме **"Process Frame"** осуществляется запуск сценария каждый кадр (как правило от 25 до 60 раз в секунду), поэтому даже небольшой цикл может сильно нагрузить систему и вызвать падение частоты кадров - особенно, если скрипт выполняется в основном потоке рендера (параметр `Enable Scripts Thread` - выключен (`false`)).

Ниже приведена таблица ключевых слов, используемых при написании сценариев.

| Ключевое слово | Описание |
| -- | -- |
| `break` | Прерывает цикл и выходит из него сразу. |
| `continue` | Пропускает остаток текущей итерации цикла и переходит к следующей. |
| `case` | Вариант внутри `switch` - проверяет совпадение значения. |
| `default` | Действие по умолчанию в `switch`, если ни один `case` не подошёл. |
| `do...while` | Цикл, который сначала делает "тело", потом проверяет условие (выполнится хотя бы раз). |
| `false` | Логическое значение "ложь" (`false`). |
| `for` | Цикл с началом, условием и шагом. |
| `for...in` | Перебирает все свойства объекта по очереди. |
| `function` | Создаёт функцию - блок кода, который можно вызывать многократно. |
| `if/if...else` | Условие, которое если "истина" (`true`) - делает одно, иначе - другое. |
| `new` | Создаёт новый объект (например, массив или объект). |
| `null` | Специальное значение - "ничего нет" / "пусто" (`null`). |
| `return` | Возвращает результат из функции или сразу заканчивает её работу. |
| `switch` | Проверяет значение и выбирает нужный вариант из нескольких. |
| `this` | Ссылка на текущий объект (полезно внутри функций и методов). |
| `true` | Логическое значение "истина" (`true`). |
| `undefined` | Переменная или свойство ещё не получило значение. |
| `var` | Объявляет переменную (единственный способ в ES3). |
| `while` | Цикл, в котором пока условие выполняется - повторяет "тело". |
| `with` | Доступ к объекту, который будет использоваться в операторах. |

## Операторы

**Оператор** - это слово, символ или комбинация символов, которые выполняют определённое действие над значениями (операндами), например - математические вычисления, сравнения, присваивания, доступ к свойствам и элементам, вызов функций и т.д.

Ниже представлена таблица с переченем используемых операторов при написании сценариев.

| Оператор | Описание | Пример |
| -- | -- | -- |
| `new` | Создаёт новый объект. | `new Array()` |
| `delete` | Удаляет свойство у объекта. | `delete obj.key` |
| `typeof` | Возвращает тип значения. | `typeof "text"` |
| `void` | Вычисляет выражение и возвращает `undefined`. | `void(0)` |
| `.` | Доступ к свойству объекта. | `obj.name` |
| `[]` | Доступ к элементу массива или свойству по имени. | `arr[0]`, `obj["key"]` |
| `()` | Вызов функции. | `myFunc()` |
| `++` | Увеличивает значение на 1 (префиксный и постфиксный). | `i++`, `++i` |
| `--` | Уменьшает значение на 1 (префиксный и постфиксный). | `i--`, `--i` |
| `-` | Унарный минус или вычитание. | `-5`, `a - b` |
| `~` | Битовое `НЕ` (инвертирует все биты числа). | `~x` |
| `!` | Логическое `НЕ` (инверсия). | `!true` |
| `*` | Операция "умножение". | `a * b` |
| `/` | Операция "деление". | `a / b` |
| `%` | Операция "остаток от деления". | `a % b` |
| `+` | Операция "сложение" или "конкатенация строк". | `a + b`, `"a" + "b"` |
| `<<` | Битовый сдвиг влево. | `x << 2` |
| `>>` | Битовый сдвиг вправо. | `x >> 2` |
| `>>>` | Беззнаковый битовый сдвиг вправо. | `x >>> 2` |
| `<` | Операция сравнения "меньше". | `a < b` |
| `<=` | Операция сравнения "меньше или равно". | `a <= b` |
| `>` | Операция сравнения "больше". | `a > b` |
| `>=` | Операция сравнения "больше или равно". | `a >= b` |
| `==` | "Равно" с приведением типов. | `a == "a"` |
| `!=` | "Не равно" с приведением типов. | `a != "b"` |
| `&` | Битовое `И`. | `x & y` |
| `^` | Битовое `Исключающее ИЛИ`. | `x ^ y` |
| `\|` | Битвое `ИЛИ`. | `x \| y` |
| `&&` | Логическое `И`. | `x && y` |
| `\|\|` | Логическое `ИЛИ`. | `x \|\| y` |
| `?:` | Условный оператор. | `условие ? "истина" : "ложь"` |
| `=` | Присваивание. | `x = 10` |
| `+=` | "Прибавить" и присвоить. | `x += 5` |
| `-=` | "Вычесть" и присвоить. | `x -= 3` |
| `*=` | "Умножить" и присвоить. | `x *= 2` |
| `/=` | "Разделить" и присвоить. | `x /= 4` |
| `%=` | "Остаток от деления" и присвоить. | `x %= 3` |
| `<<=` | Битовый сдвиг влево и присвоить. | `x <<= 2` |
| `>>=` | Битовый сдвиг вправо и присвоить. | `x >>= 2` |
| `>>>=` | Беззнаковый сдвиг вправо и присвоить. | `x >>>= 2` |
| `&=` | Битовое `И` и присвоить. | `x &= y` |
| `^=` | Битовое `Исключающее ИЛИ` и присвоить. | `x ^= y` |
| `\|=` | Битовое `ИЛИ` и присвоить. | `x \|= y` |
| `,` | Вычисление нескольких выражений и возращение результата последнего. | `a = 1, b = 2` |

Операторы определяют, как выполняются вычисления, сравнения, присваивания и логические операции. Их приоритет и ассоциативность (направление выполнения) строго соответствуют стандарту **JavaScript**, что гарантирует предсказуемое выполнение кода.

?> Понимание порядка выполнения операторов помогает избежать ошибок в сложных выражениях. Например, в `2 + 3 * 4` сначала выполняется умножение, а потом сложение. Всегда используйте скобки `()`, если порядок операций может быть неочевиден.

Ниже представлена таблица операторов от самого высокого приоритета к самому низкому.

| Приоритет | Операторы | Ассоциативность |
| -- | -- | -- |
| 1 | `[]`, `( )`, `.` | слева направо |
| 2 | `new`, `delete`, `-` (унарный минус), `!`, `typeof`, `void`, `++`, `--` | справа налево |
| 3 | `*`, `/`, `%` | слева направо |
| 4 | `+`, `-` (вычитание) | слева направо |
| 5 | `<<`, `>>`, `>>>` | слева направо |
| 6 | `<`, `<=`, `>`, `>=` | слева направо |
| 7 | `==`, `!=` | слева направо |
| 8 | `&` | слева направо |
| 9 | `^` | слева направо |
| 10 | `\|` | слева направо |
| 11 | `&&` | слева направо |
| 12 | `\|\|` | слева направо |
| 13 | `?:` | справа налево |
| 14 | `=`, `/=`, `%=`, `<<=`, `>>=`, `>>>=`, `&=`, `^=`, `\|=`, `+=`, `-=`, `*=` | справа налево |
| 15 | `,` | слева направо |

## Переменные

Любой процесс написания сценариев **Carrot** строится вокруг переменных. Переменные помогают построить взаимодействие между шаблонами, внешними данными и сценариями.

Ниже представлена таблица поддерживаемых переменных.

| Вид переменной | Синтаксис | Область видимости | Примечание |
| -- | -- | -- | -- |
| Обычная | `var a = 10;` | В рамках одного шаблона. | --- |
| Локальная | `local.a = 10;` | В рамках одной запущенной схемы Carrot Engine. | --- |
| Глобальная | `global.a = 10;` | На всех схемах Carrot Engine, подключенных к одному приложению Carrot Server. | При частом чтении или записи глобальных переменных могут возникать задержки в выдаче графики - особенно при сложной логике взаимодействия. <br> Для решения проблем с выдачей графики, можно включить параметр `Enable Scripts Thread` в настройках приложения Carrot Engine, что позволит осуществлять выполнение сценария в параллельном потоке, но при этом не будет гарантироваться выдача графики "кадр в кадр". |

## Глобальные сущности

В сценариях **Carrot** есть несколько глобальных сущностей - их можно вызывать откуда угодно, будь то объект, метод или обычная функция в Вашем сценарии.

Это именно те "инструменты", с помощью которых конечный результат получается более красивым из-за взаимодействия шаблонов друг с другом.

### Глобальные функции

| Функция | Описание |
| -- | -- |
| `write()` | Выводит текст или значение в панель "Info" Script Editor (без переноса строки в конце). |
| `writeLn()` | Выводит текст или значение в панель "Info" Script Editor и добавляет перенос строки в конце. |
| `alert()` | Показывает всплывающее окно с сообщением (текст или значение (преобразованное в строку)) и кнопкой "OK". |
| `comp()` | Функция для получения объекта композиции по имени в шаблоне. |
| `footage()` | Функция для получения объекта медиа (импортированный файл, видео, изображение и т.п.) по имени в шаблоне. |
| `degreesToRadians()` | Преобразует угол из градусов в радианы. |
| `radiansToDegrees()` | Преобразует угол из радиан в градусы. |
| `generateRandomNumber()` | Генерирует случайное число (в диапазоне от 0 до 1). |

#### `write()`

##### Вид записи

`write(text)`

##### Описание

Выводит текст или значение в панель "Info" Script Editor (без переноса строки в конце).

##### Параметры

| Параметр | Описание |
| -- | -- |
| `text` | Любой текст (строка, число или т.п.), который нужно показать в панели "Info" Script Editor для отладки. |

!> При использовании некоторых объектов в тексте (например `[1, 2, 3]`) в панели "Info" Вы можете увидеть строку:<br>
`Microsoft.ClearScript.V8.V8ScriptItem`<br>
Такой текст появляется из-за программных особенностей Script Editor. Чтобы увидеть содержимое объекта, преобразуйте его к виду `JSON.stringify([1, 2, 3])`.

##### Возвращаемое значение

Функция `write()` просто выводит информацию, но не возвращает никакой результат, который можно использовать дальше.

##### Примеры

```javascript
write("Этот текст отобразится в панели Info"); // Этот текст отобразится в панели Info

write(42); // 42 

write("Это число десять: " + 10); // Это число десять: 10

write(true); // true
```

#### `writeLn()`

##### Вид записи

`writeLn(text)`

##### Описание

Выводит текст или значение в панель "Info" Script Editor и добавляет перенос строки в конце.

##### Параметры

| Параметр | Описание |
| -- | -- |
| `text` | Любой текст (строка, число или т.п.), который нужно показать в панели "Info" Script Editor для отладки. |

!> При использовании некоторых объектов в тексте (например `[1, 2, 3]`) в панели "info" Вы можете увидеть строку:<br>
`Microsoft.ClearScript.V8.V8ScriptItem`<br>
Такой текст появляется из-за программных особенностей Script Editor. Чтобы увидеть содержимое объекта, преобразуйте его к виду `JSON.stringify([1, 2, 3])`.

##### Возвращаемое значение

Функция `writeLn()` просто выводит информацию, но не возвращает никакой результат, который можно использовать дальше.

##### Примеры

```javascript
writeLn(1 + "." + " Это первая строка"); // 1. Это первая строка

writeLn(2 + "." + " Это первая строка"); // 2. Это вторая строка

writeLn(true); // true
```

#### `alert()`

##### Вид записи

`alert(message)`

##### Описание

Показывает всплывающее окно с сообщением (текст или значение (преобразованное в строку)) и кнопкой "OK".

##### Параметры

| Параметр | Описание |
| -- | -- |
| `message` | Любое сообщение (текст или значение), которое нужно показать пользователю. |

!> При использовании некоторых объектов в сообщении (например `[1, 2, 3]`) во всплывающем окне Вы можете увидеть сообщение:<br>
`Microsoft.ClearScript.V8.V8ScriptItem`<br>
Такое сообщение появляется из-за программных особенностей Script Editor. Чтобы увидеть содержимое сообщения, преобразуйте его к виду `JSON.stringify([1, 2, 3])`.

##### Возвращаемое значение

Функция просто выводит окно с сообщением и ждёт нажатия кнопки "OK" (пока не нажата кнопка - написанный после неё сценарий не выполнится). Никакой результат не возвращается.

##### Примеры

```javascript
alert("Шаблон загружен!"); // Шаблон загружен!

alert("Время: " + time); // Вермя: [текущее время композиции]

alert(42); // 42
```

#### `comp()`

##### Вид записи

`comp(compositionName)`

##### Описание

Функция для получения объекта композиции по имени в шаблоне.

##### Параметры

| Параметр | Описание |
| -- | -- |
| `compositionName` | Имя композиции. |

##### Возвращаемое значение

Объект композиции (CompItem). Возвращает `null` в случае, если композиция с таким именем не найдена.

##### Примеры

```javascript
var main = comp("Main Comp");
```

#### `footage()`

##### Вид записи

`footage(footageName)`

##### Описание

Функция для получения объекта медиа (импортированный файл, видео, изображение и т.п.) по имени в шаблоне.

##### Параметры

| Параметр | Описание |
| -- | -- |
| `footageName` | Имя медиа. |

##### Возвращаемое значение

Объект медиа (FootageItem). Возвращает `null` в случае, если медиа с таким именем не найдена.

##### Примеры

```javascript
var bg = footage("background.mp4");
```

#### `degreesToRadians()`

##### Вид записи

`degreesToRadians(degrees)`

##### Описание

Преобразует угол из градусов в радианы.

##### Параметры

| Параметр | Описание |
| -- | -- |
| `degrees` | Угол в градусах (число). |

##### Возвращаемое значение

Число типа `double` - угол в радианах.

##### Примеры

```javascript
var rad = degreesToRadians(90);
```

#### `radiansToDegrees()`

##### Вид записи

`radiansToDegrees(radians)`

##### Описание

Преобразует угол из радиан в градусы

##### Параметры

| Параметр | Описание |
| -- | -- |
| `radians` | Угол в радианах (число). |

##### Возвращаемое значение

Число типа `double` - угол в градусах.

##### Примеры

```javascript
var deg = radiansToDegrees(1,5);
```

#### `generateRandomNumber()`

##### Вид записи

`generateRandomNumber()`

##### Описание

Генерирует случайное число в диапазоне от `0` до `1`.

##### Параметры

Отсутствуют

##### Возвращаемое значение

Число типа `double` в диапазоне от `0` до `1`.

##### Примеры

```javascript
var rnd = generateRandomNumber();
```

### Глобальные объекты

| Объект | Описание | Примечание |
| -- | -- | -- |
| `app` | Объект доступа ко всему приложению. | --- |
| `thisProject` | Объект доступа к текущему шаблону. | То же самое, что `app.project` |
| `thisComp` | Объект доступа к "главной" композиции текущего шаблона. | --- |

!> Объекты `thisProject` и `thisComp` дают доступ к элементам шаблона теми же методами и атрибутами, что и глобальный объект `app`. Используйте описание в документации по объекту `app`, чтобы изучить список доступных методов и атрибутов.

#### `app`

##### Описание

Это главный глобальный объект, который даёт доступ ко всему приложению.

Его атрибуты представлены в таблице ниже.

| Атрибут | Описание |
| -- | -- |
| `app.project` | Текущий шаблон, для которого Вы пишете сценарий. |

##### Примеры

```javascript
// Присваиваем переменной "template" объект доступа к шаблону
var template = app;

// Отображаем в панели "info" объект текущего шаблона
writeLn(template.project);
```

#### `app.project`

##### Описание

Это атрибут (свойство) глобального объекта `app`, с помощью которого Вы попадаете в сам шаблон и дальше работаете с композицииями, слоями и т.п.

!> Стоит учитывать, что глубокая вложенность обращений к композициям и слоям может приводить к снижению производительности. Не рекомендуется превышать два уровня вложенности.

Для обращения к элементам шаблона, используются методы `app.project.item()` и атрибут `app.project.items`.

| Атрибут/Метод | Описание | Пример использования |
| -- | -- | -- |
| `app.project.item(index)` | Возвращает элемент шаблона по порядковому номеру (первому элементу по умолчанию присвоен индекс "1"). | `app.project.item(1)` |
| `app.project.item(name)` | Возвращает элемент шаблона по имени. | `app.project.item("My Comp")` |
| `app.project.itemByID(id)` | Возвращает элемент шаблона по его уникальному ID. | `app.project.itemByID(2)` |
| `app.project.items[intIndex]` | Возвращает все элементы шаблона. | `app.project.items.length` |

> Все представленные методы и атрибуты возвращают объект типа `Item` (или его наследников `CompItem`, `AVItem`). В случае если элемент не был найден возвращается `null`.

##### Примеры

```javascript
// Присваиваем переменной "template" текущий шаблон
var template = app.project;

// Отображаем в панели "info" количество элементов в шаблоне
writeLn("В шаблоне элементов: " + template.items.length);
```

##### `Item` элемент

Это композиция или медиа (импортированный файл, видео, изображение и т.п.) внутри шаблона.

Обратиться к элементу можно через метод `app.project.item()` или атрибут `app.project.items`.

| Атрибут | Описание |
| -- | -- |
| `name` | Имя элемента. |
| `id` | Уникальный идентификатор элемента. |
| `typeName` | Тип элемента ("Composition", "Footage" и т.п.). |

```javascript
// Присваиваем переменной "element" объект шаблона по порядковому номеру
var element = app.project.item(1);

// Отображаем в панели "info" атрибуты элемента `item`
writeLn("Имя: " + element.name);
writeLn("Тип: " + element.typeName);
writeLn("ID: " + element.id);
```

##### `AVItem` элемент

Это элемент шаблона, который содержит основные данные медиа (ширина, высота, длительность и т.п.). Как правило, к таким объектам относится аудио, видео или любые другие графические объекты шаблона.

| Атрибут | Описание |
| -- | -- |
| `width` | Ширина в пикселях. |
| `height` | Высота в пикселях. |
| `duration` | Длительность в секундах (для неподвижных элементов, длительность = `0`). |
| `frameDuration` | Длительность одного кадра в секундах. |
| `pixelAspect` | Соотношение сторон пикселя (PAR). |

```javascript
// Присваиваем переменной "video" объект шаблона по его имени
var video = app.project.item("Picture.png");

// Выполняем условие, при котором, если у выбранного объекта тип "Footage",
// то отображаем в панели "info" его размер (высоту и ширину в пикселях)
// и длительность  
if (video.typeName == "Footage") {
    writeLn("Размер: " + видео.width + "x" + видео.height);
    writeLn("Длительность: " + видео.duration + " сек"); // Длительность = 0, так как выбранный объект - неподвижный элемент (картинка формата ".png")
}
```

##### `CompItem` элемент

Это главный элемент шаблона - композиция, которая содержит основную информацию о ней (время начала, слои и их количество, и т.п.)

| Атрибут/Метод | Описание | Примечание |
| -- | -- | -- |
| `displayStartTime` | Время начала композиции в секундах. | Не может быть изменено. |
| `numLayers` | Количество слоёв в композиции. | Вычисляет только общее количество. |
| `layer(index)` | Возвращает слой по номеру (первому элементу по умолчанию присвоен индекс "1"). |  |
| `layer(name)` | Возвращает слой по имени. |  |

```javascript
// Присваиваем переменной "composition" объект шаблона по его наименованию
var composition = app.project.item("Education");

// Выполняем условие, при котором, если у выбранного объекта тип "Composition",
// то отображаем в панели "info" количество слоёв, время начала композиции и имя первого слоя
// и длительность  
if (composition.typeName == "Composition") {
    writeLn("Слоёв в композиции: " + composition.numLayers);
    writeLn("Цвет фона: " + composition.displayStartTime);
    
    var layer = composition.layer(1);
    writeLn("Первый слой: " + layer.name);
}
```

#### `app.project.item().layer()`

##### Описание

Это атрибут (свойство) глобального объекта `app`, с помощью которого Вы попадаете в объект композиции шаблона (`CompItem`), которым, как правило, является слой.

!> Стоит учитывать, что индексация слоёв начинается с `1` (не с `0`). <br>
Сохраняемые шаблоны в формате **".xml"** содержат множество атрибутов, часть из которых  доступна для чтения и редактирования, а часть - недоступна.

| Атрибут/Метод | Описание |
| -- | -- |
| `index` | Индекс (порядковый номер) слоя. |
| `inPoint` | Время (в секундах) входа слоя (его видимой части). |
| `outPoint` | Время (в секундах) выхода слоя. |
| `isNameSet` | Логическое свойство (Boolean), указывающее, было ли имя данного свойства изменено пользователем. Возращает `true`, если свойство было переименовано вручную, и `false`, если используется имя, присвоенное по умолчанию. |
| `locked` | Логическое свойство (Boolean), определяющее, заблокирован ли слой. Возвращает  `true`, если слой защищён от редактирования и не можеть быть выбран или изменён, и `false` - во всех остальных случаях. |
| `name` | Имя слоя. |
| `nullLayer` | Логическое свойство (Boolean), указывающее, является ли слой "нулевым объектом" (`null`). Возвращает `true`, если слой был создан как "нулевой объект" (`null`), и `false` - во всех остальных случаях. |
| `startTime` | Время, с которого слой существует в шаблоне. |
| `stretch` | Временной масштаб слоя (в процентах). Значение `100` соответствует нормальной скорости воспроизведения. Значения больше `100` замедляют слой, а меньше - ускоряют. Отрицательные значения воспроизводят слой в обратном направлении. <br> Значение не может быть `0`. |
| `effect(name)` | Обращение к эффекту слоя по имени. |
| `property(name)` | Обращение к свойству слоя по имени |
| `sourceRectAtTime(extendBounds)` | Возвращает прямоугольные границы (bounding box) содержимого текстового слоя с учётом текста и фигур. |

##### Cвойства слоя (объектная модель)

!> Чтобы изменить значение свойства, используйте метод `setValue()`.

| Атрибут | Описание | Примечание |
| -- | -- | -- |
| `text` | Объект содержащий все свойства текстового слоя. | Доступен только для текстовых слоёв. |
| `text.sourceText` | Текст слоя. | Доступен только для текстовых слоёв. |
| `transform` | Объект содержащий все свойства преобразования слоя. | --- |
| `anchorPoint` или `transform.anchorPoint` | Точка смещения центра координат слоя. | --- |
| `position` или `transform.position` | Позиция слоя. | При использовании `transform.position` учитываются координаты по осям `X`, `Y` и `Z`. |
| `xPosition` | Координата `X` позиции слоя. | --- |
| `yPosition` | Координата `Y` позиции слоя. | --- |
| `zPosition` | Координата `Z` позиции слоя. | Для 2D слоя всегда равна `0`. |
| `scale` или `transform.scale` | Масштаб слоя по осям (в процентах) `X`, `Y` и `Z` | --- |
| `orientation` или `transform.orientation` | Ориентация (вращение) слоя по осям `X`, `Y` и `Z`. | --- |
| `rotation` или `transform.rotation` | Ориентация (вращение) слоя по оси `Z`. | --- |
| `opacity` или `transform.opacity` | Непрозрачность слоя (в процентах). | --- |

```javascript
// Пример № 1. Отображение значения свойства "Позиция слоя"

// Присваиваем переменной "layer1" первый слой композиции
var layer1 = app.project.item(1).layer(1);

// Присваиваем переменной "layer1position" свойство "Позиция слоя"
var layer1position = layer1.transform.position;

// Отображение окна со значением свойства "Позиция слоя"
alert(layer1position.value);
```


```javascript
// Пример № 2. Изменение значения свойства "Позиция слоя"

// Присваиваем переменной "layer1" первый слой композиции
var layer1 = app.project.item(1).layer(1);

// Присваиваем переменной "layer1position" новое значение свойства "Позиция слоя"
var layer1position = layer1.transform.position.setValue([10.0, 30.0, 0.0]);

// Отображение окна со значением свойства "Позиция слоя"
alert(layer1position.value);
```

##### Cвойства слоя (универсальный доступ)

Для универсального доступа к свойствам слоя, необходимо использовать метод `property(name)`.

!> Чтобы изменить значение свойства, используйте метод `setValue()`.

| Атрибут | Описание |
| -- | -- |
| `matchName` | Внутреннее имя свойства (например, "ADBE Anchor Point"). |
| `active` | Логическое свойство (Boolean), указывающее, активно ли свойство в текущий момент. Возращает `true`, если свойство активно, и `false` - во всех остальных случаях. |
| `isEffect` | Логическое свойство (Boolean), указывающее, относится ли это свойство к эффекту. Возращает `true`, если свойство эффекта, и `false` - во всех остальных случаях. |
| `isMask` | Логическое свойство (Boolean), указывающее, относится ли это свойство к маске. Возращает `true`, если свойство маски, и `false` - во всех остальных случаях. |
| `enabled` | Логическое свойство (Boolean), указывающее, включено ли свойство. Возращает `true`, если свойство активно (переключатель видимости слоя ("глазик") не был выключен), и `false` - во всех остальных случаях. |
| `expressionEnabled` | Логическое свойство (Boolean), указывающее, включено ли выражение на этом свойстве. Возращает `true`, если выражение включено, и `false` - во всех остальных случаях. |
| `value` | Значение (массив, число, строка) свойства. |

```javascript
// Присваиваем переменной "effect2" эффекта по имени "Curves"
var effect2 = app.project.item(1).layer(1).effect("Curves");

// Присваиваем переменной "effect2param" свойство "BlendWithOriginal" по имени
var effect2param = effect2.property("BlendWithOriginal");
```