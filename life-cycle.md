# Жизненый цикл

## Что такое шаблон?

**Шаблон** - это проект, который был создан в After Effects и в дальнейшем экспортирован в **Carrot**.

## Процесс создания шаблона

Рабочий процесс создания шаблона, как правило, выглядит так:

- сначала создаётся проект в After Effects (композиции, слои, текста, анимации и т.п.) и в нём расставляются **стейты**;

?> Что такое **"Стейты"**? <br> 
**Стейты** - это точки анимации, которые показывают состояние объекта в определённый момент времени.  
В After Effects **стейты** формируются путём проставления маркеров в композиции и в дальнейшем помогают управлять переходами между состояниями шаблона.

- затем проект экспортируется (с помощью соответствующего плагина **Carrot**);
- при экспорте открывается приложение **Template Preview** (входит в состав программного обеспечения **Carrot**), в котором происходит всё дальнейшее взаимодействие с шаблоном, в том числе написание сценариев;

!> Написание сценариев происходит в **Script Editor**. <br> Для того, чтобы открыть **Script Editor**, необходимо в верхней панели **Template Preview** выбрать **Edit** → **Scripts** (или воспользоваться сочетанием клавиш `Ctrl + N` на клавиатуре).

- сохраняется шаблон в **Carrot** (базу данных).

!> **Template Preview** отображает полную структуру проекта After Effects, но стоит учитывать, что не все элементы структуры доступны для редактирования или взаимодействия. Актуальный функционал работы с объектами описан в [справочнике](reference-guide.md).

## Жизненный цикл шаблона

**Шаблон** проходит несколько стадий от загрузки и выгрузки. Все эти операции выполяются после его сохранения в **Carrot** и происходят в веб-интерфейсе **Carrot Dashboard**.

Основной жизненный цикл шаблона включает в себя:

1. **Загрузку (Load)** - шаблон загружается в **Carrot Engine**;
2. **Воспроизведение (Take In / In)** - шаблон воспроизводит в **Carrot Engine** стейт, который служит началом его анимации;
3. **Остановку (Take Out / Out)** - шаблон воспроизводит в **Carrot Engine** стейт, который служит окончанием его анимации;
4. **Выгрузку (Unload)** - шаблон выгружается из **Carrot Engine**.
